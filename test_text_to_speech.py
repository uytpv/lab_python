#!/usr/bin/env python
# -*- coding: utf-8 -*-
# Import the json library
import json
import urllib

import pip._vendor.requests as request

url = "https://viettelgroup.ai/voice/api/tts/v1/rest/syn"
text = "Trước đó, gia đình Hương thường ít bày tỏ lời thân mật với nhau. Khi mẹ bệnh, cô gái trẻ tạo thói quen trò chuyện, nói những lời yêu thương, tích cực nhiều hơn để động viên mẹ. Con với các em chỉ cần mẹ thôi, và không cần bất kỳ điều gì trên đời ngoài việc có cha mẹ, là câu Hương thường xuyên nói với mẹ. Hương giúp mẹ kết nối với những người bệnh ung thư khác, cùng chia sẻ kinh nghiệm chữa trị, nhắc nhở động viên nhau vượt khó khăn. Với Hương, đây là kỷ niệm đáng nhớ vì hai mẹ con cô đều cảm nhận được tinh thần mạnh mẽ của cộng đồng bệnh nhân ung thư. Những người trong nhóm trở thành gia đình thứ hai của bà Yến. Khi hóa trị, xạ trị, bà Yến kiên trì tuân thủ chế độ ăn nghiêm khắc. Để có thêm sức lực, bà ăn với khẩu phần gấp đôi người thường, uống hai lít nước trái cây tươi mỗi ngày, kết quả tăng cân thêm 10 kg. Thời điểm đó, mẹ tôi giống một chiến binh, gạt tất cả mọi thứ sang một bên và chiến đấu, Hương nói. Cuối năm 2019, khối u trong cơ thể bà Yến tiêu biến. Từ đó đến nay bà điều trị phục hồi tại Bệnh viện Ung bướu TP HCM. Bước vào quá trình hồi phục, bà Yến cũng như mọi bệnh nhân ung thư khác, đứng trước nỗi lo khối u tái phát và di căn. Cứ ba tháng một lần, bà tái khám; mỗi ngày tập yoga, aerobic và thiền. Gần đây, bà tự làm sữa hạt và uống trà atiso, duy trì tinh thần tích cực. Ba năm qua, bà Yến chưa phát hiện dấu hiệu tái phát ung thư vú. Tôi xem ung thư như một phần cuộc sống, không nghĩ nhiều đến bệnh tật và cố gắng sống lành mạnh, phòng tái phát, bà Yến nói. Điều khiến người mẹ luôn canh cánh là con đường học tập dở dang của con gái. Để mẹ yên tâm, năm 2020, Lan Hương thi đại học lần nữa và trở thành thủ khoa ngành Quản lý Chuỗi cung ứng của Đại học Ngoại thương. Hồi tháng 8, cô gái là một trong những đại diện Việt Nam tham gia diễn đàn Các nhà lãnh đạo trẻ châu Á - Thái Bình Dương, tổ chức tại Ấn Độ. Năm đó nếu ở lại Nhật để học, tôi có thể đón nhận được nhiều cơ hội hơn. Nhưng hiện tại tôi luôn hạnh phúc và biết ơn vì gia đình được mạnh khỏe, bình an, Hương nói, thêm rằng khi đi con đường nào, miễn là kiên trì với nó, ta sẽ nhận về thành quả xứng đáng. Thống kê từ dữ liệu Ghi nhận ung thư(GLOBOCAN 2020), mỗi năm Việt Nam phát hiện 21.555 ca ung thư vú, chiếm 12 % tổng số bệnh ung thư. Ung thư vú có chiều hướng gia tăng qua các năm, trong đó 75 % phát hiện bệnh ở giai đoạn sớm. Nhiều nghiên cứu cho thấy tỷ lệ sống thêm sau 5 năm của bệnh nhân ung thư vú có thể đạt 100 % nếu phát hiện ở giai đoạn tiền lâm sàng(giai đoạn 0). Tỷ lệ này là 95 % ở giai đoạn I, 80 % ở giai đoạn II, 72 % ở giai đoạn III và 25 % ở giai đoạn IV. Trước đó, gia đình Hương thường ít bày tỏ lời thân mật với nhau. Khi mẹ bệnh, cô gái trẻ tạo thói quen trò chuyện, nói những lời yêu thương, tích cực nhiều hơn để động viên mẹ. Con với các em chỉ cần mẹ thôi, và không cần bất kỳ điều gì trên đời ngoài việc có cha mẹ, là câu Hương thường xuyên nói với mẹ. Hương giúp mẹ kết nối với những người bệnh ung thư khác, cùng chia sẻ kinh nghiệm chữa trị, nhắc nhở động viên nhau vượt khó khăn. Với Hương, đây là kỷ niệm đáng nhớ vì hai mẹ con cô đều cảm nhận được tinh thần mạnh mẽ của cộng đồng bệnh nhân ung thư. Những người trong nhóm trở thành gia đình thứ hai của bà Yến. Khi hóa trị, xạ trị, bà Yến kiên trì tuân thủ chế độ ăn nghiêm khắc. Để có thêm sức lực, bà ăn với khẩu phần gấp đôi người thường, uống hai lít nước trái cây tươi mỗi ngày, kết quả tăng cân thêm 10 kg. Thời điểm đó, mẹ tôi giống một chiến binh, gạt tất cả mọi thứ sang một bên và chiến đấu, Hương nói. Cuối năm 2019, khối u trong cơ thể bà Yến tiêu biến. Từ đó đến nay bà điều trị phục hồi tại Bệnh viện Ung bướu TP HCM. Bước vào quá trình hồi phục, bà Yến cũng như mọi bệnh nhân ung thư khác, đứng trước nỗi lo khối u tái phát và di căn. Cứ ba tháng một lần, bà tái khám; mỗi ngày tập yoga, aerobic và thiền. Gần đây, bà tự làm sữa hạt và uống trà atiso, duy trì tinh thần tích cực. Ba năm qua, bà Yến chưa phát hiện dấu hiệu tái phát ung thư vú. Tôi xem ung thư như một phần cuộc sống, không nghĩ nhiều đến bệnh tật và cố gắng sống lành mạnh, phòng tái phát, bà Yến nói. Điều khiến người mẹ luôn canh cánh là con đường học tập dở dang của con gái. Để mẹ yên tâm, năm 2020, Lan Hương thi đại học lần nữa và trở thành thủ khoa ngành Quản lý Chuỗi cung ứng của Đại học Ngoại thương. Hồi tháng 8, cô gái là một trong những đại diện Việt Nam tham gia diễn đàn Các nhà lãnh đạo trẻ châu Á - Thái Bình Dương, tổ chức tại Ấn Độ. Năm đó nếu ở lại Nhật để học, tôi có thể đón nhận được nhiều cơ hội hơn. Nhưng hiện tại tôi luôn hạnh phúc và biết ơn vì gia đình được mạnh khỏe, bình an, Hương nói, thêm rằng khi đi con đường nào, miễn là kiên trì với nó, ta sẽ nhận về thành quả xứng đáng. Thống kê từ dữ liệu Ghi nhận ung thư(GLOBOCAN 2020), mỗi năm Việt Nam phát hiện 21.555 ca ung thư vú, chiếm 12 % tổng số bệnh ung thư. Ung thư vú có chiều hướng gia tăng qua các năm, trong đó 75 % phát hiện bệnh ở giai đoạn sớm. Nhiều nghiên cứu cho thấy tỷ lệ sống thêm sau 5 năm của bệnh nhân ung thư vú có thể đạt 100 % nếu phát hiện ở giai đoạn tiền lâm sàng(giai đoạn 0). Tỷ lệ này là 95 % ở giai đoạn I, 80 % ở giai đoạn II, 72 % ở giai đoạn III và 25 % ở giai đoạn IV."
data = {"text": text, "voice": "doanngocle", "id": "2",
        "without_filter": False, "speed": 1.0, "tts_return_option": 3}
headers = {'Content-type': 'application/json',
           'token': '82uCIdUuXUrix9-cKd64Vt3NXYf6wOfb7XB4jfESRbqjXty7qlxXfDMfajqKs9o0'}
response = request.post(url, data=json.dumps(data), headers=headers)
# if encounter SSL error because of https certificate, please comment out above line and use the line below to  make insecure connections   (this will expose your application to security risks, such as man-in-the-middle attacks.)
#response = requests.post(url, data=json.dumps(data), headers=headers, verify=False)
# Headers is a dictionary
print(response.headers)
# Get status_code.
print(response.status_code)
# Get the response data as a python object.
data = response.content
f = open("C:\\Users\\UY\\Downloads\\20221114-1.mp3", "wb")
f.write(data)
f.close()
